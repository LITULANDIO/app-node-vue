import{T as l,S as c,c as d}from"../server.mjs";import"vue";import"#internal/nitro";function i(t){const e=[];for(const[n,s]of Object.entries(t)){if(s===!1||s==null)continue;let r=n;s!==!0&&(r+=`="${String(s).replace(/"/g,"&quot;")}"`),e.push(r)}return e.length>0?` ${e.join(" ")}`:""}function g(t){return t.replace(/[&<>"'/]/g,e=>{switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#x27;";case"/":return"&#x2F;";default:return e}})}function p(t){const e=i(t.props),n=`<${t.tag}${e}>`;if(!l.includes(t.tag))return c.includes(t.tag)?n:`${n}</${t.tag}>`;let s=String(t.innerHTML||"");return t.textContent&&(s=g(String(t.textContent))),c.includes(t.tag)?n:`${n}${s}</${t.tag}>`}function f(t){const e={htmlAttrs:{},bodyAttrs:{},tags:{head:[],bodyClose:[],bodyOpen:[]}};for(const n of t){if(n.tag==="htmlAttrs"||n.tag==="bodyAttrs"){e[n.tag]={...e[n.tag],...n.props};continue}e.tags[n.tagPosition||"head"].push(p(n))}return{headTags:e.tags.head.join(`
`),bodyTags:e.tags.bodyClose.join(`
`),bodyTagsOpen:e.tags.bodyOpen.join(`
`),htmlAttrs:i(e.htmlAttrs),bodyAttrs:i(e.bodyAttrs)}}async function y(t){const e={shouldRender:!0};if(await t.hooks.callHook("ssr:beforeRender",e),!e.shouldRender)return{headTags:"",bodyTags:"",bodyTagsOpen:"",htmlAttrs:"",bodyAttrs:""};const n={tags:await t.resolveTags()};t.resolvedOptions.experimentalHashHydration&&n.tags.push({tag:"meta",props:{name:"unhead:ssr",content:d(n.tags.filter(o=>{const a=t.headEntries().find(u=>u._i===o._e);return(a==null?void 0:a._m)!=="server"}).map(o=>o._h))}}),await t.hooks.callHook("ssr:render",n);const s=f(n.tags),r={tags:n.tags,html:s};return await t.hooks.callHook("ssr:rendered",r),r.html}export{g as encodeInnerHtml,i as propsToString,y as renderSSRHead,f as ssrRenderTags,p as tagToString};
//# sourceMappingURL=index.d8e9ef50.js.map
